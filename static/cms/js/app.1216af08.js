(function(){var e={7016:function(e,t,a){"use strict";var l=a(9963),n=a(6252);const o=e=>((0,n.dD)("data-v-0313ce67"),e=e(),(0,n.Cn)(),e),i={class:"frame"},s=o((()=>(0,n._)("a",{href:"/",class:"brand"},[(0,n._)("strong",null,"长安链"),(0,n.Uk)("合约检测平台")],-1))),r=o((()=>(0,n._)("div",{class:"header-content"},[(0,n._)("div",{class:"greet"},"欢迎"),(0,n._)("div",{class:"signout",href:"/"},"回到首页")],-1))),c={class:"sidebar"},u=o((()=>(0,n._)("span",null,"详情介绍",-1))),d=o((()=>(0,n._)("span",null,"Dashboard",-1))),m=o((()=>(0,n._)("span",null,"IDE",-1))),p=o((()=>(0,n._)("span",null,"设置",-1)));function h(e,t,a,l,o,h){const g=(0,n.up)("el-header"),f=(0,n.up)("Grid"),_=(0,n.up)("el-icon"),v=(0,n.up)("el-button"),b=(0,n.up)("Document"),w=(0,n.up)("el-menu-item"),C=(0,n.up)("el-menu-item-group"),y=(0,n.up)("el-sub-menu"),k=(0,n.up)("Comment"),W=(0,n.up)("User"),S=(0,n.up)("Setting"),D=(0,n.up)("el-menu"),x=(0,n.up)("router-view"),z=(0,n.up)("el-main"),U=(0,n.up)("el-footer"),I=(0,n.up)("el-container");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(I,{class:"frame-container"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"header"},{default:(0,n.w5)((()=>[s,r])),_:1}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n.Wm)(v,{class:"collapse-toggle-button",type:"primary",onClick:h.toggleCollapse},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"el-icon--left"},{default:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:1})])),_:1},8,["onClick"]),(0,n.Wm)(D,{"default-active":"defaultIndex",class:"el-menu-vertical-demo",router:!0,collapse:o.isCollapse,onOpen:h.handleOpen,onClose:h.handleClose},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{index:"0"},{title:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b)])),_:1}),u])),default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{index:"0-1",route:{name:"intro"}},{default:(0,n.w5)((()=>[(0,n.Uk)("项目介绍")])),_:1}),(0,n.Wm)(w,{index:"0-2",route:{name:"language"}},{default:(0,n.w5)((()=>[(0,n.Uk)("合约介绍")])),_:1})])),_:1}),(0,n.Wm)(w,{index:"0-3",route:{name:"banner"}},{default:(0,n.w5)((()=>[(0,n.Uk)("工具介绍")])),_:1})])),_:1}),(0,n.Wm)(y,{index:"1"},{title:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k)])),_:1}),d])),default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{index:"1-1",route:{name:"tool"}},{default:(0,n.w5)((()=>[(0,n.Uk)("合约分析")])),_:1}),(0,n.Wm)(w,{index:"1-2",route:{name:"contractManage"}},{default:(0,n.w5)((()=>[(0,n.Uk)("合约管理")])),_:1}),(0,n.Wm)(w,{index:"1-3",route:{name:"record"}},{default:(0,n.w5)((()=>[(0,n.Uk)("日志管理")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(w,{index:"2",route:{name:"ide"}},{title:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W)])),_:1}),m])),_:1}),(0,n.Wm)(w,{index:"3"},{title:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S)])),_:1}),p])),_:1})])),_:1},8,["collapse","onOpen","onClose"])]),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"main"},{default:(0,n.w5)((()=>[(0,n.Wm)(x)])),_:1}),(0,n.Wm)(U,{class:"footer"},{default:(0,n.w5)((()=>[(0,n.Uk)("Footer")])),_:1})])),_:1})])),_:1})])),_:1})])}var g=a(5441),f=a(3045),_=a(1233),v=a(9803),b=a(7692),w={name:"App",components:{Comment:g.Z,User:f.Z,Grid:_.Z,Document:v.Z,Setting:b.Z},data(){return{isCollapse:!1}},computed:{defaultIndex(){const e=this.$route.path;let t="1";return t=e.indexOf("banner")>=0?"2":e.indexOf("post")>=0?"3":e.indexOf("comment")>=0?"4":e.indexOf("user")>=0?"5":e.indexOf("language")>=0?"9":"1",t}},mounted(){this.$auth.is_staff},methods:{has_permission(e){return console.log(e),console.log(this.$auth.user),!1},toggleCollapse(){this.isCollapse=!this.isCollapse},handleOpen(e,t){console.log("Menu opened:",e,t)},handleClose(e,t){console.log("Menu closed:",e,t)}}},C=a(3744);const y=(0,C.Z)(w,[["render",h],["__scopeId","data-v-0313ce67"]]);var k=y,W=a(5307),S=(a(4415),a(2201));const D=e=>((0,n.dD)("data-v-43e5dd64"),e=e(),(0,n.Cn)(),e),x=D((()=>(0,n._)("h2",{class:"table-title"},"工具数据分析",-1)));function z(e,t,a,l,o,i){const s=(0,n.up)("el-table-column"),r=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",null,[x,(0,n.Wm)(r,{data:o.tableData,border:"",stripe:"","row-style":"rowStyleMethod"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"name",label:"工具名称",width:"160",align:"left"}),(0,n.Wm)(s,{prop:"language",label:"合约语言",width:"120",align:"left"}),(0,n.Wm)(s,{prop:"bug",label:"检测漏洞",width:"200",align:"left"}),(0,n.Wm)(s,{prop:"intro",label:"详情介绍",width:"1400",align:"left"})])),_:1},8,["data"])])}var U={data(){return{tableData:[{name:"Mythril",language:"solidity",bug:"整数溢出、时间戳依赖、重入攻击等",intro:"Mythril是以太坊EVM字节码的安全分析工具。它使用符号执行、SMT方案来分析检测智能合约代码中的各种安全漏洞"},{name:"Oyente",language:"solidity",bug:"交易顺序依赖漏洞、时间戳依赖、异常障碍、重入漏洞",intro:"Oyente是一个智能合约自动审计工具，使用了一种基于符号执行的技术来检测合约中的漏洞"},{name:"Conkas",language:"solidity",bug:"重入攻击，整数溢出，时间戳依赖",intro:"一种以太坊字节码的模块化和静态分析工具"},{name:"Slither",language:"solidity",bug:"重入漏洞、未初始化的存储变量、未使用的变量、不安全的委托调用、低级别调用等",intro:" Slither执行静态分析，它分析Solidity合约源代码以发现潜在的漏洞和问题"},{name:"Solhint",language:"solidity",bug:"不安全的数学操作、避免使用send方法、避免在合约构造函数中使用tx.origin等",intro:"Solhint执行静态代码分析，它会检查Solidity智能合约的源代码以发现潜在的编码错误、不规范的编程实践和安全问题"},{name:"confuzzius",language:"solidity",bug:"生成可能导致合约状态中可能隐藏错误的交易序列",intro:"一个具有数据依赖意识的以太坊智能合约混合模糊测试工具"},{name:"security",language:"solidity",bug:"重入漏洞",intro:"一个检测solidity智能合约漏洞的工具"},{name:"osiris",language:"solidity",bug:"重入漏洞、整数溢出、未初始化变量、函数可见性错误、Gas 空洞",intro:"Osiris 是一种智能合约安全工具，它是用于以太坊区块链上的 Solidity 智能合约的漏洞扫描器"},{name:"honeybadger",language:"solidity",bug:"不安全的自杀函数",intro:"一个检测solidity智能合约漏洞的工具"},{name:"wana_cpp",language:"C++",bug:"块信息依赖漏洞、资产无限期冻结漏洞、委托调用漏洞、Block Information Dependency漏洞等",intro:"WANA是一款基于符号执行技术的智能合约漏洞检测工具，可以探索智能合约的程序执行分支，并在探索过程中寻找智能合约是否存在安全漏洞"},{name:"evulhunter",language:"C++",bug:"Fake EOS Transfer漏洞",intro:"EVulHunter是基于Octopus项目的EOS智能合约二进制级漏洞检测器"},{name:"wana_rust",language:"Rust",bug:"块信息依赖漏洞、资产无限期冻结漏洞、委托调用漏洞、Block Information Dependency漏洞等",intro:"WANA是一款基于符号执行技术的智能合约漏洞检测工具，可以探索智能合约的程序执行分支，并在探索过程中寻找智能合约是否存在安全漏洞"},{name:"chaincode-analyzer",language:"Golang",bug:"Random value, Timestamp, Calling external API, Pointer",intro:"chaincode-analyzer是专门用于Fabric chaincode合约的漏洞检测。经过测试，也可以测试长安链go合约"}]}}};const I=(0,C.Z)(U,[["render",z],["__scopeId","data-v-43e5dd64"]]);var O=I,V=a(3577);const P=e=>((0,n.dD)("data-v-779722dc"),e=e(),(0,n.Cn)(),e),L=P((()=>(0,n._)("h1",null,"评论管理",-1))),$=["href"],E=P((()=>(0,n._)("span",null,"您确定要删除这个评论吗？",-1))),Z={class:"dialog-footer"};function A(e,t,a,l,o,i){const s=(0,n.up)("el-table-column"),r=(0,n.up)("delete"),c=(0,n.up)("el-icon"),u=(0,n.up)("el-button"),d=(0,n.up)("el-table"),m=(0,n.up)("el-space"),p=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(m,{direction:"vertical",size:20},{default:(0,n.w5)((()=>[L,(0,n.Wm)(d,{data:o.comments,style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"content",label:"内容"}),(0,n.Wm)(s,{prop:"author.username",label:"作者"}),(0,n.Wm)(s,{label:"帖子"},{default:(0,n.w5)((t=>[(0,n._)("a",{href:e.$http.server_host+"/post/detail/"+t.row.post.id,target:"_blank"},(0,V.zw)(t.row.post.title),9,$)])),_:1}),(0,n.Wm)(s,{prop:"create_time",label:"发布时间",width:"180"}),(0,n.Wm)(s,{label:"操作"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{type:"danger",circle:"",size:"mini",onClick:t=>i.onDeleteCommentClick(e.$index)},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r)])),_:1})])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,n.Wm)(p,{modelValue:o.confirmDialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>o.confirmDialogVisible=e),title:"提示",width:"30%"},{footer:(0,n.w5)((()=>[(0,n._)("span",Z,[(0,n.Wm)(u,{onClick:t[0]||(t[0]=e=>o.confirmDialogVisible=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("取消")])),_:1}),(0,n.Wm)(u,{type:"primary",onClick:i.onConfirmDeleteCommentClick},{default:(0,n.w5)((()=>[(0,n.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,n.w5)((()=>[E])),_:1},8,["modelValue"])])}var M=a(920),F=a(4079),R={name:"AppComment",data(){return{deletingIndex:0,confirmDialogVisible:!1,comments:[]}},mounted(){this.$http.getCommentList().then((e=>{this.comments=e["data"]}))},methods:{onDeleteCommentClick(e){this.deletingIndex=e,this.confirmDialogVisible=!0},onConfirmDeleteCommentClick(){let e=this.comments[this.deletingIndex];this.$http.deleteComment(e.id).then((e=>{e&&200==e["code"]?(M.z8.success("评论删除成功！"),this.confirmDialogVisible=!1,this.comments.splice(this.deletingIndex,1)):M.z8.info(e["message"])}))}},components:{Delete:F.Z}};const T=(0,C.Z)(R,[["render",A],["__scopeId","data-v-779722dc"]]);var B=T;const j=e=>((0,n.dD)("data-v-5e9215c6"),e=e(),(0,n.Cn)(),e),H=j((()=>(0,n._)("h1",null,"帖子管理",-1))),Y=["href"],K={style:{"text-align":"center"}},G=j((()=>(0,n._)("span",null,"如果删除帖子，该帖子下所有的评论也会被删除，您确定要删除吗？",-1))),N={class:"dialog-footer"};function J(e,t,a,l,o,i){const s=(0,n.up)("el-table-column"),r=(0,n.up)("delete"),c=(0,n.up)("el-icon"),u=(0,n.up)("el-button"),d=(0,n.up)("el-table"),m=(0,n.up)("el-pagination"),p=(0,n.up)("el-space"),h=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(p,{direction:"vertical",size:20},{default:(0,n.w5)((()=>[H,(0,n.Wm)(d,{data:o.posts,style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"标题"},{default:(0,n.w5)((t=>[(0,n._)("a",{href:e.$http.server_host+"/post/detail/"+t.row.id,target:"_blank"},(0,V.zw)(t.row.title),9,Y)])),_:1}),(0,n.Wm)(s,{prop:"create_time",label:"发布时间",width:"180"}),(0,n.Wm)(s,{prop:"board.name",label:"所属板块"}),(0,n.Wm)(s,{prop:"author.username",label:"作者"}),(0,n.Wm)(s,{label:"操作"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{type:"danger",circle:"",size:"mini",onClick:t=>i.onDeletePostClick(e.$index)},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r)])),_:1})])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,n._)("div",K,[(0,n.Wm)(m,{background:"",layout:"prev, pager, next",total:o.total_count,"current-page":o.page,"onUpdate:currentPage":i.onPageChanged},null,8,["total","current-page","onUpdate:currentPage"])])])),_:1}),(0,n.Wm)(h,{modelValue:o.confirmDialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>o.confirmDialogVisible=e),title:"提示",width:"30%"},{footer:(0,n.w5)((()=>[(0,n._)("span",N,[(0,n.Wm)(u,{onClick:t[0]||(t[0]=e=>o.confirmDialogVisible=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("取消")])),_:1}),(0,n.Wm)(u,{type:"primary",onClick:i.onConfirmDeletePostClick},{default:(0,n.w5)((()=>[(0,n.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,n.w5)((()=>[G])),_:1},8,["modelValue"])])}var q={name:"AppPost",data(){return{deletingIndex:0,confirmDialogVisible:!1,posts:[],total_count:0,page:1}},mounted(){this.getPostList(1)},methods:{getPostList(e){this.$http.getPostList(e).then((e=>{if(console.log(e),200==e["code"]){let t=e["data"];this.posts=t["post_list"],this.total_count=t["total_count"],this.page=t["page"]}}))},onDeletePostClick(e){this.confirmDialogVisible=!0,this.deletingIndex=e},onConfirmDeletePostClick(){let e=this.posts[this.deletingIndex];this.$http.deletePost(e.id).then((e=>{200==e["code"]?(this.posts.splice(this.deletingIndex,1),M.z8.success("帖子删除成功！"),this.confirmDialogVisible=!1):M.z8.info(e["message"])}))},onPageChanged(e){this.getPostList(e)}},components:{Delete:F.Z}};const Q=(0,C.Z)(q,[["render",J],["__scopeId","data-v-5e9215c6"]]);var X=Q;const ee=e=>((0,n.dD)("data-v-38c7afc4"),e=e(),(0,n.Cn)(),e),te=ee((()=>(0,n._)("h1",null,"用户管理",-1))),ae={class:"dialog-footer"};function le(e,t,a,l,o,i){const s=(0,n.up)("el-table-column"),r=(0,n.up)("el-tag"),c=(0,n.up)("delete"),u=(0,n.up)("el-icon"),d=(0,n.up)("el-button"),m=(0,n.up)("el-table"),p=(0,n.up)("el-space"),h=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(p,{direction:"vertical",size:20},{default:(0,n.w5)((()=>[te,(0,n.Wm)(m,{data:o.users,style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"username",label:"用户名"}),(0,n.Wm)(s,{prop:"email",label:"邮箱"}),(0,n.Wm)(s,{prop:"join_time",label:"加入时间"}),(0,n.Wm)(s,{label:"员工"},{default:(0,n.w5)((e=>[e.row.is_staff?((0,n.wg)(),(0,n.j4)(r,{key:0},{default:(0,n.w5)((()=>[(0,n.Uk)("是")])),_:1})):((0,n.wg)(),(0,n.j4)(r,{key:1,type:"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)("否")])),_:1}))])),_:1}),(0,n.Wm)(s,{label:"状态"},{default:(0,n.w5)((e=>[e.row.is_active?((0,n.wg)(),(0,n.j4)(r,{key:0,type:"success"},{default:(0,n.w5)((()=>[(0,n.Uk)("是")])),_:1})):((0,n.wg)(),(0,n.j4)(r,{key:1,type:"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)("否")])),_:1}))])),_:1}),(0,n.Wm)(s,{label:"操作"},{default:(0,n.w5)((e=>[(0,n.Wm)(d,{type:"danger",circle:"",size:"mini",onClick:t=>i.onActiveUserClick(e.$index)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c)])),_:1})])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,n.Wm)(h,{modelValue:o.confirmDialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>o.confirmDialogVisible=e),title:"提示",width:"30%"},{footer:(0,n.w5)((()=>[(0,n._)("span",ae,[(0,n.Wm)(d,{onClick:t[0]||(t[0]=e=>o.confirmDialogVisible=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("取消")])),_:1}),(0,n.Wm)(d,{type:"primary",onClick:i.onConfirmActiveUserClick},{default:(0,n.w5)((()=>[(0,n.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,n.w5)((()=>[(0,n._)("span",null,(0,V.zw)(o.message),1)])),_:1},8,["modelValue"])])}var ne={name:"AppUser",data(){return{confirmDialogVisible:!1,users:[],activingIndex:0,message:""}},mounted(){this.getUserList(1)},methods:{getUserList(e){this.$http.getUserList(e).then((e=>{this.users=e.data}))},onActiveUserClick(e){this.activingIndex=e,this.confirmDialogVisible=!0;const t=this.users[e];t.is_active?this.message="您确定要拉黑此用户吗？":this.message="您确定要取消拉黑此用户吗？"},onConfirmActiveUserClick(){let e=this.users[this.activingIndex],t=e.is_active?0:1;this.$http.activeUser(e.id,t).then((e=>{if(e&&200==e["code"]){M.z8.success("操作成功！"),this.confirmDialogVisible=!1;let t=e.data;this.users.splice(this.activingIndex,1,t)}else M.z8.info("操作失败！"),this.confirmDialogVisible=!1}))}},components:{Delete:F.Z}};const oe=(0,C.Z)(ne,[["render",le],["__scopeId","data-v-38c7afc4"]]);var ie=oe;const se=e=>((0,n.dD)("data-v-798cc03a"),e=e(),(0,n.Cn)(),e),re=se((()=>(0,n._)("h1",null,"安全工具检测",-1))),ce=se((()=>(0,n._)("h4",null,"step1 上传合约",-1))),ue={class:"center"},de=se((()=>(0,n._)("div",{class:"el-upload__tip"}," contract files with a size less than 500KB. ",-1))),me={class:"file-list-container"},pe=se((()=>(0,n._)("br",null,null,-1))),he=se((()=>(0,n._)("hr",null,null,-1))),ge=se((()=>(0,n._)("br",null,null,-1))),fe=se((()=>(0,n._)("br",null,null,-1))),_e=se((()=>(0,n._)("h4",null,"step2 选择合约所用工具",-1))),ve=se((()=>(0,n._)("br",null,null,-1))),be={class:"select-button-container"},we=se((()=>(0,n._)("br",null,null,-1))),Ce=se((()=>(0,n._)("br",null,null,-1))),ye=se((()=>(0,n._)("hr",null,null,-1))),ke=se((()=>(0,n._)("br",null,null,-1))),We=se((()=>(0,n._)("br",null,null,-1))),Se={class:"description-container"};function De(e,t,a,l,o,i){const s=(0,n.up)("el-input"),r=(0,n.up)("Upload"),c=(0,n.up)("el-icon"),u=(0,n.up)("el-button"),d=(0,n.up)("el-upload"),m=(0,n.up)("el-pagination"),p=(0,n.up)("el-space"),h=(0,n.up)("el-option"),g=(0,n.up)("el-select"),f=(0,n.up)("Share"),_=(0,n.up)("el-descriptions-item"),v=(0,n.up)("el-descriptions"),b=(0,n.up)("result-component");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[(0,n.Wm)(p,{direction:"vertical",size:20,style:{width:"100%"}},{default:(0,n.w5)((()=>[re,ce,(0,n.Wm)(s,{modelValue:o.contract_url,"onUpdate:modelValue":t[0]||(t[0]=e=>o.contract_url=e),autocomplete:"off",style:{"margin-right":"10px"}},null,8,["modelValue"]),(0,n.Wm)(d,{"file-list":o.fileList,class:"upload-demo",action:e.$http.server_host+"/toolFunc/contracts/upload",headers:{Authorization:"Bearer "+e.$auth.token},multiple:"","on-preview":i.handlePreview,"on-remove":i.handleRemove,"before-remove":i.beforeRemove,limit:3,"on-exceed":i.handleExceed,"on-success":i.handleSuccess,"on-error":i.handleError},{tip:(0,n.w5)((()=>[de])),default:(0,n.w5)((()=>[(0,n._)("div",ue,[(0,n.Wm)(u,{class:"center",type:"primary"},{default:(0,n.w5)((()=>[(0,n.Uk)("上传合约"),(0,n.Wm)(c,{class:"el-icon--right"},{default:(0,n.w5)((()=>[(0,n.Wm)(r)])),_:1})])),_:1})])])),_:1},8,["file-list","action","headers","on-preview","on-remove","before-remove","on-exceed","on-success","on-error"]),(0,n._)("div",me,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.paginatedFiles,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"file",key:e.name},(0,V.zw)(e),1)))),128))]),(0,n.Wm)(m,{"page-size":5,layout:"prev, pager, next",total:o.contract_list.length,onCurrentChange:i.handlePageChange},null,8,["total","onCurrentChange"])])),_:1}),pe,he,ge,fe,_e,ve,(0,n._)("div",be,[(0,n.Wm)(g,{modelValue:o.selectedOption,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedOption=e),options:o.options,placeholder:"工具"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.options,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","options"]),(0,n.Wm)(g,{modelValue:o.contract_name,"onUpdate:modelValue":t[2]||(t[2]=e=>o.contract_name=e),options:o.options,placeholder:"合约"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.contract_list,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","options"]),(0,n.Wm)(u,{type:"success",onClick:i.handleButtonClick},{default:(0,n.w5)((()=>[(0,n.Uk)("开始检测"),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:1})])),_:1},8,["onClick"])])]),we,Ce,ye,ke,We,(0,n._)("div",Se,[(0,n.Wm)(v,{class:"margin-top",title:"检测结果",column:3,size:e.size,contentStyle:e.rowCenter,labelStyle:e.rowCenter,border:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{label:"工具名称",width:"10%"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,V.zw)(o.selectedOption),1)])),_:1}),(0,n.Wm)(_,{label:"是否成功",width:"10%"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,V.zw)(o.message),1)])),_:1}),(0,n.Wm)(_,{label:"所用时间",width:"10%"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,V.zw)(o.execution_time),1)])),_:1})])),_:1},8,["size","contentStyle","labelStyle"]),(0,n.Wm)(b,{detect_res:o.detect_res},null,8,["detect_res"])])],64)}a(7658);var xe=a(7230),ze=a(3221),Ue=a(170);const Ie=e=>((0,n.dD)("data-v-09615bb4"),e=e(),(0,n.Cn)(),e),Oe={class:"result-container"},Ve=Ie((()=>(0,n._)("br",null,null,-1))),Pe=Ie((()=>(0,n._)("p",{class:"line"},"检测日志结果：",-1)));function Le(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("div",Oe,[Ve,Pe,(0,n._)("p",null,(0,V.zw)(a.detect_res),1)])}var $e={props:["detect_res"]};const Ee=(0,C.Z)($e,[["render",Le],["__scopeId","data-v-09615bb4"]]);var Ze=Ee,Ae={name:"AppSCTool",components:{Upload:ze.Z,Share:Ue.Z,ResultComponent:Ze},data(){return{fileList:[],currentPage:1,uploadError:"",contract_url:"",selectedOption:null,options:[{value:"mythril",label:"Mythril"},{value:"oyente",label:"Oyente"},{value:"conkas",label:"Conkas"},{value:"slither",label:"Slither"},{value:"solhint",label:"solhint"},{value:"confuzzius",label:"confuzzius"},{value:"security",label:"security"},{value:"osiris",label:"osiris"},{value:"honeybadger",label:"honeybadger"},{value:"wana_cpp",label:"wana_cpp"},{value:"wana_rust",label:"wana_rust"},{value:"evulhunter",label:"evulhunter"}],message:"",detect_res:"",contract_name:"",contracts_files:[],contract_list:[],execution_time:""}},rowCenter:{"text-align":"center"},computed:{paginatedFiles(){const e=5*(this.currentPage-1),t=5*this.currentPage;return this.contract_list.slice(e,t)}},mounted(){this.fetchContractList()},methods:{handleRemove(e){const t=this.fileList.indexOf(e);-1!==t&&this.fileList.splice(t,1)},handlePreview(e){console.log(e)},handleExceed(e){M.z8.warning(`The limit is 3, you selected ${e.length} files this time, add up to ${e.length} totally`)},beforeRemove(e){return xe.T.confirm(`Cancel the transfer of ${e.name} ?`).then((()=>!0),(()=>!1))},handleSuccess(e,t){if(200==e["code"]){var a=e["data"]["contract_url"];this.contract_url="/media/contracts/"+a,this.fileList.push({name:t.name})}else M.z8.error(e["message"])},handleError(e){M.z8.error(e.message)},handlePageChange(e){this.currentPage=e},handleButtonClick(){this.selectedOption?(console.log("You selected:",this.selectedOption),this.$http.getToolAnalysis(this.selectedOption,this.contract_name).then((e=>{this.message=e["message"],"logs"in e?this.detect_res=e["logs"]:"output"in e&&(this.detect_res=e["output"]),this.execution_time=e["time"]}))):console.log("No option selected.")},fetchContractList(){this.$http.getContractList().then((e=>{this.contracts_files=e.files,this.contract_list=this.contracts_files.map((e=>e.name))})).catch((e=>{console.error("Failed to fetch contract list:",e)}))},deleteContract(e){console.log("Delete button clicked for contract:",e),this.$http.getContractDelete(e).then((t=>{const a=this.paginatedFiles.indexOf(e);console.log(t),-1!==a&&this.paginatedFiles.splice(a,1)})).catch((e=>{console.error("Failed to delete contract:",e)}))}}};const Me=(0,C.Z)(Ae,[["render",De],["__scopeId","data-v-798cc03a"]]);var Fe=Me,Re=a.p+"img/logo2.5a3914ad.png";const Te={class:"container"},Be=(0,n.uE)('<div class="split left" data-v-cb4a95ce><h2 align="center" data-v-cb4a95ce>长安链·ChainMaker</h2><br data-v-cb4a95ce><h1 align="center" data-v-cb4a95ce>数字信任经济的价值流动新引擎</h1></div><div class="box" data-v-cb4a95ce><div class="logo" data-v-cb4a95ce><img src="'+Re+'" alt="" align="middle" data-v-cb4a95ce></div><div class="context" data-v-cb4a95ce><div class="text" data-v-cb4a95ce>我们提供一套面向长安链智能合约的漏洞检测系统</div><br data-v-cb4a95ce><ul class="live" data-v-cb4a95ce><li data-v-cb4a95ce>智能合约</li><li data-v-cb4a95ce>漏洞检测工具</li><li data-v-cb4a95ce>智能合约检测</li><li data-v-cb4a95ce>合约检测成果</li></ul><br data-v-cb4a95ce><div class="box_a" data-v-cb4a95ce><h4 data-v-cb4a95ce><a href="https://chainmaker.org.cn/home" data-v-cb4a95ce>长安链官网</a></h4><em data-v-cb4a95ce>|</em><span data-v-cb4a95ce><a href="myOpen.html" data-v-cb4a95ce>合约检测</a></span></div></div></div>',2),je=[Be];function He(e,t){return(0,n.wg)(),(0,n.iD)("div",Te,je)}const Ye={},Ke=(0,C.Z)(Ye,[["render",He],["__scopeId","data-v-cb4a95ce"]]);var Ge=Ke;const Ne={class:"container"},Je={class:"file-info"},qe={class:"file-name"},Qe={class:"file-size"},Xe={class:"file-actions"};function et(e,t,a,l,o,i){const s=(0,n.up)("search"),r=(0,n.up)("el-icon"),c=(0,n.up)("el-button"),u=(0,n.up)("delete");return(0,n.wg)(),(0,n.iD)("div",Ne,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.contract_list,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"file-list",key:e.name},[(0,n._)("div",Je,[(0,n._)("span",qe,(0,V.zw)(e.name),1),(0,n._)("span",Qe,(0,V.zw)(e.size)+" bytes",1)]),(0,n._)("div",Xe,[(0,n.Wm)(c,{type:"success",circle:"",onClick:t=>i.checkContract(e.name)},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s)])),_:1})])),_:2},1032,["onClick"]),(0,n.Wm)(c,{type:"danger",circle:"",onClick:t=>i.deleteContract(e.name)},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1})])),_:2},1032,["onClick"])])])))),128))])}var tt=a(4472),at={name:"AppContractManage",components:{Delete:F.Z,Search:tt.Z},data(){return{contract_list:[]}},mounted(){this.fetchContractList()},methods:{fetchContractList(){this.$http.getLogsList().then((e=>{this.contract_list=e.files})).catch((e=>{console.error("Failed to fetch contract list:",e)}))},deleteContract(e){console.log(e),this.$http.getContractDelete(e).then((e=>{console.log(e),this.fetchContractList()})).catch((e=>{console.error("Failed to delete contract:",e)}))},checkContract(e){console.log(`Checked contract: ${e}`)}}};const lt=(0,C.Z)(at,[["render",et],["__scopeId","data-v-4094020a"]]);var nt=lt;const ot={class:"container"},it={class:"file-info"},st={class:"file-name"},rt={class:"file-size"},ct={class:"file-actions"};function ut(e,t,a,l,o,i){const s=(0,n.up)("edit"),r=(0,n.up)("el-icon"),c=(0,n.up)("el-button"),u=(0,n.up)("delete");return(0,n.wg)(),(0,n.iD)("div",ot,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.contract_list,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"file-list",key:e.name},[(0,n._)("div",it,[(0,n._)("span",st,(0,V.zw)(e.name),1),(0,n._)("span",rt,(0,V.zw)(e.size)+" bytes",1)]),(0,n._)("div",ct,[(0,n.Wm)(c,{type:"primary",circle:"",onClick:t=>i.editContract(e.name)},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s)])),_:1})])),_:2},1032,["onClick"]),(0,n.Wm)(c,{type:"danger",circle:"",onClick:t=>i.deleteContract(e.name)},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1})])),_:2},1032,["onClick"])])])))),128))])}var dt=a(4877),mt={name:"AppContractManage",components:{Delete:F.Z,Edit:dt.Z},data(){return{contract_list:[]}},mounted(){this.fetchContractList()},methods:{fetchContractList(){this.$http.getContractList().then((e=>{this.contract_list=e.files})).catch((e=>{console.error("Failed to fetch contract list:",e)}))},editContract(e){console.log("editContract called with fileName:",e),this.currentFileName=e,this.currentFileContent="The content of the file...",this.editorVisible=!0},deleteContract(e){console.log(e),this.$http.getContractDelete(e).then((e=>{console.log(e),this.fetchContractList()})).catch((e=>{console.error("Failed to delete contract:",e)}))}}};const pt=(0,C.Z)(mt,[["render",ut],["__scopeId","data-v-2eed565c"]]);var ht=pt;const gt=e=>((0,n.dD)("data-v-452e2e2c"),e=e(),(0,n.Cn)(),e),ft=gt((()=>(0,n._)("p",{class:"line"},"使用IDE编写你的合约吧！",-1))),_t=gt((()=>(0,n._)("br",null,null,-1))),vt=gt((()=>(0,n._)("br",null,null,-1))),bt=gt((()=>(0,n._)("br",null,null,-1))),wt={class:"iframe-container"},Ct=["src"];function yt(e,t,a,l,o,i){const s=(0,n.up)("toggle-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[ft,_t,(0,n._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>i.toggleSwitch&&i.toggleSwitch(...e))},"启动remix ide"),vt,(0,n.Wm)(s,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),sync:!0,labels:!0,onChange:i.toggleSwitch},null,8,["modelValue","onChange"])]),bt,(0,n._)("div",wt,[(0,n._)("iframe",{src:e.remixSrc,frameborder:"0",class:"responsive-iframe"},null,8,Ct)])],64)}var kt=a(6843),Wt={name:"AppIde",components:{ToggleButton:kt.Z},data:()=>({remixSrc:"http://"+window.location.hostname+":3000/",value:!1,isUserInitiated:!1}),mounted(){this.getIdeState()},watch:{value(e){this.isUserInitiated&&(!0===e?this.getIdeStart():this.getIdeStop()),this.isUserInitiated=!1}},methods:{toggleSwitch(e){this.isUserInitiated=!0,this.value=e},getIdeStart(){this.$http.getRemixIDEStart().then((e=>{"successfully"==e.message&&console.log("docker start")}))},getIdeState(){this.$http.getRemixIDEState().then((e=>{console.log(e),"Running"==e.status?(this.value=!0,console.log("docker running")):(this.value=!1,console.log("docker not running"))}))},getIdeStop(){this.$http.getRemixIDEStop().then((e=>{"successfully"==e.message&&console.log("docker stop")}))}}};const St=(0,C.Z)(Wt,[["render",yt],["__scopeId","data-v-452e2e2c"]]);var Dt=St;const xt=e=>((0,n.dD)("data-v-e3a68134"),e=e(),(0,n.Cn)(),e),zt=xt((()=>(0,n._)("h2",{class:"table-title"},"合约语言介绍",-1)));function Ut(e,t,a,l,o,i){const s=(0,n.up)("el-table-column"),r=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",null,[zt,(0,n.Wm)(r,{data:o.tableData,"span-method":i.objectSpanMethod,border:"",stripe:"","row-style":"rowStyleMethod"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{prop:"name",label:"合约语言",width:"150",align:"left"}),(0,n.Wm)(s,{prop:"language",label:"主要漏洞",width:"120",align:"left"}),(0,n.Wm)(s,{prop:"intro",label:"详情介绍",width:"1020",align:"left"})])),_:1},8,["data","span-method"])])}var It={data(){return{tableArr:[],pos:0,tableData:[{name:"Solidity",language:"整数上溢和下溢",intro:"整数上溢和下溢，也被称为算数问题，SWC-101。Solidity智能合约支持的无符号整数变量步长以8递增，从uint8一直到uint256；同样带符号数也是从int8到int256。如果一个数字存储在uint8类型中，这意味着该数字存储在一个8位无符号数中，范围从0到255。此时若将一个超过该范围的算术运算的结果存入uint8，以太坊虚拟机并不会报错而回滚状态，而是简单截断运算结果的高位后将该数存入uint8类型变量中。此时运算结果异常，产生整数溢出的错误。整数上溢和下溢在智能合约中尤其危险，在Solidity合约中使用整型数据类型的情况非常普遍，而且大多数开发人员不选择使用SafeMath安全库。一旦存在溢出漏洞，代码的一些不起眼的算数运算部分都可能成为攻击者为了转移以太币或阻止程序正常运行的攻击目标。"},{name:"Solidity",language:"未检查调用返回值",intro:"也被称为异常处理漏洞、静默失败调用等，SWC-104。其实质上也是源于Solidity提供的底层函数如call()、delegatecall()和send()这些被称为低级别调用的函数。一般情况下，合约会终止执行并回滚至前一状态以面对执行过程中抛出的异常。但是当使用低级别调用函数调用其他合约时被调用合约抛出异常，作为调用者的原合约执行仍会继续，低级别调用函数会返回一个flase的布尔值。这也导致若合约编写人员未检查这种低级别调用的返回值，无法确定调用是否成功，进而后续的代码逻辑可能将陷入巨大的问题当中。"},{name:"Solidity",language:"不受保护的自毁指令",intro:"也称意外自杀漏洞，以太冻结漏洞，被认为是访问控制漏洞的一种形式，SWC-106。由于Solidity语言提供了合约自毁的接口selfdestruct()，若是在编写合约中提供了该接口，使用过程中却由于访问控制缺失或不足，恶意方可以自毁合同。合约自毁和以太币冻结是一体两面，合约自毁是因，以太币被冻结是果。当一个合约自毁后，合约持有的以太币和之后向该合约地址发送的以太币（实际上相当于给空地址发送以太币）都将永久冻结，无法追回。"},{name:"Solidity",language:"重入漏洞",intro:"也被称为递归调用或调用未知，SWC-107。漏洞的产生本质上源于Solidity语言为合约提供的fallback()函数。当使用Solidity常见的转账方式transfer()、send()和call.vale()()将以太币发送到一个地址时，若该地址是用户账户，则其余额会增加相应的以太币数量；若该地址属于一个合约账户，会触发其fallback()函数。恶意设置的fallback()函数能在转账结束前再次回调发起转账的合约之中，导致其他调用以不被期望的方法进行。"},{name:"Solidity",language:"不安全的Delegatecall",intro:"被认为是访问控制漏洞的一种，SWC-112。从漏洞名字上不难看出，该漏洞与Solidity语言提供的一种调用模式delegatecall有关。该调用的特点是目标代码的执行环境是调用者合约，并且保证msg.sender与msg.value的值不变。这意味着智能合约通过delegatecall可以在运行时从不同地址动态加载其他合约代码，同时存储、当前地址和余额信息仍然依赖于调用合约。因此调用不受信任的合约是非常危险的，因为目标地址处的代码可以更改调用者的任何存储值，并完全控制调用者的余额。"},{name:"Solidity",language:"时间顺序依赖",intro:"也被称为抢先执行、竞争条件漏洞，SWC-114。这个漏洞往往被认为是以太坊区块链系统层上的漏洞([19])。以太坊网络中的矿工可以决定发布到全网络上的交易执行的顺序，当然绝大部分情况下交易中包含的汽油费越多，矿工会以更快的速度挖掘。加上以太坊网络的公开透明性质，所有人都可以观察到所有发布到网上等待矿工处理的交易内容。某些情况下合约的交易顺序存在重要意义，例如一个智能合约会给予第一个解谜的用户以太币作为奖励，恶意用户守候在区块链网络中监听相应的解谜合约，在观察到之后以更高的汽油费复制解谜合约，抢先交易以获得以太币奖励，从而达到不劳而获的可怕结果。"},{name:"Solidity",language:"通过tx.origin授权",intro:"被认为是访问控制漏洞的一种，SWC-115。tx.origin是Solidity语言中的一个全局变量，它能遍历整个调用栈并返回最初发送调用的账户地址。在合约中如果使用tx.origin权限检查，恶意用户可以构造fallback函数，再通过网络钓鱼等手段诱使被害者合约进行转账操作，从而造成以太币损失。"},{name:"Solidity",language:"区块变量作为时间代理",intro:"也被称作时间操纵漏洞，包含时间戳依赖漏洞，SWC-116。智能合约承载的业务经常需要依赖于时间值，而一些区块变量如block.timestamp和block.number可以大致体现时间与时间增量。但是在很大程度上，使用它们并不安全。block.timestamp常被用作触发某些合约事件的变量，但是由于以太坊的性质，其存在一定的不准确性。以太坊的去中心化导致各个节点智能在一定程度上同步时间，并且矿工可以在一定范围内微调block.timestamp，特别是调整block.timestamp有利可图时。block.number同样也只能提供大致的时间情况。它是通过以太坊上挖出两个区块的时间差大致为14s来进行的估算。然而，挖抗间隔时间并不是恒定的，并且会因各种原因而改变。时间的精确计算也不应该依赖于block.number。"},{name:"Solidity",language:"随机数依赖",intro:"也被称为坏随机性、无秘密漏洞，部分包含时间戳依赖漏洞，SEC-120。智能合约业务中对随机数的需求非常大，尤其是许多带有赌博性质的合约。在以太坊中，随机性很难得到正确处理。Solidity提供的函数和变量可以访问看上去似乎是难以预测的值，如blockhash、block.difficulty，但它们都可以由矿工控制。block.timestamp也被经常用作随机数种子，但正如上一节所述，由于这些随机性的来源在一定程度上是可预测的并且可调整的。"},{name:"Solidity",language:"汽油费不足",intro:"拒绝服务漏洞的一种形式，SWC-128。在2.1.2节中曾介绍过以太坊的汽油费机制，当部署智能合约或调用智能合约中的函数时，这些操作的执行总是需要一定数量的汽油费。以太坊网络规定了一个区块总汽油费的上限，即一个区块中包含的所有交易中的汽油费的总和不能超过该阈值。当超过这个阈值时，在集中式应用程序中无害的编程模式就会导致智能合约中拒绝服务漏洞。"},{name:"C/C++",language:"虚假EOS Transfer",intro:"由于eosio.token源代码完全公开的，所以任何人都能复制其源代码，并发布一个token（相同的名字、符号和代码），虚假的EOS和官方的唯一不同就是具有不同的发布人。或者直接调用漏洞合约的transfer函数进行转账。"},{name:"C/C++",language:"伪造Transfer通告",intro:"攻击者在 EOS 网络中控制两个账户 A 和 B，通过账户 A 向账户 B 发送真正的 EOS，eosio.token 合约在转账成功后会向 B 发送 notification。当账户 B 收到 notification后随即转发到受害者智能合约 C。"},{name:"C/C++",language:"区块信息依赖",intro:"在区块链平台上很难获得可靠的随机性来源。开发人员可能想使用区块信息(如tapos_block_prefix和tapos_block_num)来生成随机数。这些随机数可能被用来确定EOS的转移或彩票的中奖者。遗憾的是，tapos_block_prefix和tapos_block_num不是可靠的随机性来源，因为它们可以直接从ref_block_num计算出来，默认情况下ref_block_num是最后一个不可逆块的id。赌博合同可以使用延迟操作来确定彩票的赢家。在这种情况下，引用块是下注块之前的块。因此，当智能合约直接使用tapos_block_prefix和tapos_block_num进行随机数生成时，可以预测生成的随机数。"},{name:"C/C++",language:"存储泄露",intro:"当程序无法释放不再需要的内存时会发生这种情况，从而导致性能下降和系统稳定性问题。"},{name:"C/C++",language:"空指针的引用",intro:"当程序尝试读取或写入空指针指向的内存位置时发生，导致崩溃或未定义的行为。"},{name:"C/C++",language:"未初始化的变量",intro:"使用尚未初始化的变量可能会导致不可预测的行为和安全漏洞。"},{name:"C/C++",language:"指针诡计",intro:"与指针算术和操作相关的问题，可能导致未经授权的访问或修改内存。"},{name:"Rust",language:"随机数依赖漏洞",intro:"共识是区块链平台的基础，一个区块链系统所依赖的共识协议往往是硬编码的，由此共识协议所构建的信任模型也是静态的。这就导致了区块链系统的正常运行需要依赖于确定性的准则。而智能合约中的不确定性会为区块链系统引入极大的安全风险。在长安链区块链平台中智能合约的执行不仅需要共识主节点的预执行，同样需要大量普通共识节点的执行与验证。如果智能合约中引入了不确定性，导致多个节点执行结果不一致，可能导致最终无法达成共识，智能合约调用无法真正完成。随机数的生成与使用是最常见的软件功能之一，开发者不仅可以利用随机数开发简单的应用程序，还可以利用随机数进行复杂的安全领域的软件开发。然而随机数在智能合约领域是需要极力避免的软件功能。随机数的使用会为智能合约引入极大的不确定性，不仅影响智能合约的正常执行，还影响共识的最终达成。"},{name:"Rust",language:"时间戳依赖漏洞",intro:"时间戳是指格林威治时间1970年01月01日00时00分00秒到当前时间的总秒数。时间戳在软件工程中经常使用，只要软件功能与现实时间有关系，均需借助时间戳来实现。然而在分布式区块链系统中，无法保证各个节点的机器时间是一致的，也无法保证各个节点同时执行获取时间戳的函数。因此使用时间戳来完成相应的业务逻辑会为系统引入极大的不确定性，影响智能合约的执行。"},{name:"Rust",language:"Map结构迭代漏洞",intro:"Map结构迭代漏洞的核心特征在于在Rust智能合约中使用了HashMap数据结构，同时使用了HashMap迭代器对内部数据进行了迭代。尽管Rust的HashMap迭代本身的结果是不确定性的，但是并不一定会真正影响实际的智能合约的执行。所以对于Map结构迭代漏洞的核心判断依据在于对于HashMap迭代器的使用是否影响了智能合约的链上数据读写。"},{name:"Rust",language:"未处理错误漏洞",intro:"在长安链中，智能合约可以调用另一个智能合约。长安链不止支持同类型虚拟机内的跨合约调用，也支持不同类型虚拟机间的跨合约调用。然而如果被调用的智能合约出现了异常，那么虚拟机将终止被调用的智能合约的执行工作，区块链系统会回滚其状态并返回错误值。调用者合约如果没有对返回值进行检查以验证该调用是否成功执行，则可能导致执行意外的业务逻辑，导致严重的损失。"},{name:"Rust",language:"整数溢出错误",intro:"整数溢出是常见的程序错误，当算数运算的结果超过当前数据类型的最大值或者最小值时，将会发生上溢或者下溢。对于一个无符号8位int类型的数而言，其数值范围在0到127之间，如果智能合约中的算术计算结果超过了这个范围，则会发生溢出。一般而言，一个算数计算的结果存在两种溢出的情况。若结果上溢，则其值会变为一个较小的值；若结果下溢，则其结果会变为一个较大的值。"},{name:"Golang",language:"全局变量依赖",intro:"不仅在链码开发中，在一般的开发中，开发人员都需要考虑全局变量。全局变量可以天生地改变。因此，使用全局变量可能会导致链代码的不确定性。"},{name:"Golang",language:"映射结构迭代",intro:"由于Go的规范，开发人员在使用map结构进行迭代时，键值的顺序不是唯一的。因此，使用map结构迭代可能会造成不确定性。与随机数生成和时间戳不同，Go的行为具有隐藏实现细节的特点。"},{name:"Golang",language:"随机数生成",intro:"随机数生成是一类典型的不确定代码。在背书阶段，背书节点独立模拟链码，如第三节所述。因此，认可节点的模拟结果可能不一致。"},{name:"Golang",language:"调用外部API",intro:"通过调用应用程序编程接口(Application Programming Interface, API)来复用第三方开发的功能是一种常见的方法。此外，微服务，即通过消息[10]进行交互的内聚的、独立的流程，是最近出现的一种趋势。然而，在区块链环境中，开发人员在使用web服务时需要特别注意。如果服务向每一端返回不同的结果，则会导致分类账不一致。"}]}},methods:{objectSpanMethod({row:e,column:t,rowIndex:a,columnIndex:l}){if(0===l){const l=e[t.property],n=this.tableData[a-1],o=n?n[t.property]:null;if(l===o)return{rowspan:0,colspan:0};{let e=1;for(let n=a+1;n<this.tableData.length;n++){const a=this.tableData[n],o=a[t.property];if(o!==l)break;e++}return{rowspan:e,colspan:1}}}}}};const Ot=(0,C.Z)(It,[["render",Ut],["__scopeId","data-v-e3a68134"]]);var Vt=Ot;const Pt=e=>((0,n.dD)("data-v-447722a6"),e=e(),(0,n.Cn)(),e),Lt=Pt((()=>(0,n._)("br",null,null,-1))),$t={class:"container"},Et=Pt((()=>(0,n._)("div",{class:"top"},"合约检测",-1))),Zt={class:"rounded-list"},At=Pt((()=>(0,n._)("li",null,[(0,n._)("a",{href:""},"上传合约")],-1))),Mt={class:"card1 card"},Ft={class:"content"},Rt=Pt((()=>(0,n._)("div",{class:"el-upload__tip"}," contract files with a size less than 500KB. ",-1))),Tt=Pt((()=>(0,n._)("br",null,null,-1))),Bt=Pt((()=>(0,n._)("hr",null,null,-1))),jt=Pt((()=>(0,n._)("br",null,null,-1))),Ht=Pt((()=>(0,n._)("li",null,[(0,n._)("a",{href:""},"选择工具")],-1))),Yt={class:"card1 card"},Kt={class:"content"},Gt=Pt((()=>(0,n._)("br",null,null,-1))),Nt=Pt((()=>(0,n._)("hr",null,null,-1))),Jt=Pt((()=>(0,n._)("br",null,null,-1))),qt=Pt((()=>(0,n._)("li",null,[(0,n._)("a",{href:""},"检测结果")],-1))),Qt={class:"card2 card"},Xt={class:"content"},ea={class:"description-container"};function ta(e,t,a,l,o,i){const s=(0,n.up)("el-input"),r=(0,n.up)("Upload"),c=(0,n.up)("el-icon"),u=(0,n.up)("el-button"),d=(0,n.up)("el-upload"),m=(0,n.up)("el-option"),p=(0,n.up)("el-select"),h=(0,n.up)("Share"),g=(0,n.up)("el-descriptions-item"),f=(0,n.up)("el-descriptions"),_=(0,n.up)("result-component");return(0,n.wg)(),(0,n.iD)(n.HY,null,[Lt,(0,n._)("div",$t,[Et,(0,n._)("ol",Zt,[At,(0,n._)("div",Mt,[(0,n._)("div",Ft,[(0,n.Wm)(s,{modelValue:o.contract_url,"onUpdate:modelValue":t[0]||(t[0]=e=>o.contract_url=e),autocomplete:"off",style:{"margin-right":"10px"}},null,8,["modelValue"]),(0,n.Wm)(d,{"file-list":o.fileList,class:"upload-demo",action:e.$http.server_host+"/toolFunc/contracts/upload",headers:{Authorization:"Bearer "+e.$auth.token},multiple:"","on-preview":i.handlePreview,"on-remove":i.handleRemove,"before-remove":i.beforeRemove,limit:3,"on-exceed":i.handleExceed,"on-success":i.handleSuccess,"on-error":i.handleError},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"mybutton1",type:"primary"},{default:(0,n.w5)((()=>[(0,n.Uk)("上传合约"),(0,n.Wm)(c,{class:"el-icon--right"},{default:(0,n.w5)((()=>[(0,n.Wm)(r)])),_:1})])),_:1}),Rt,Tt])),_:1},8,["file-list","action","headers","on-preview","on-remove","before-remove","on-exceed","on-success","on-error"])])]),Bt,jt,Ht,(0,n._)("div",Yt,[(0,n._)("div",Kt,[(0,n.Wm)(p,{modelValue:o.selectedOption,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedOption=e),options:o.options,placeholder:"工具"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.options,(e=>((0,n.wg)(),(0,n.j4)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","options"]),(0,n.Wm)(p,{modelValue:o.contract_name,"onUpdate:modelValue":t[2]||(t[2]=e=>o.contract_name=e),options:o.options,placeholder:"合约"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.contract_list,(e=>((0,n.wg)(),(0,n.j4)(m,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","options"]),(0,n.Wm)(u,{class:"mybutton2",type:"success",onClick:i.handleButtonClick},{default:(0,n.w5)((()=>[(0,n.Uk)("开始检测"),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1})])),_:1},8,["onClick"])])]),Gt,Nt,Jt,qt]),(0,n._)("div",Qt,[(0,n._)("div",Xt,[(0,n._)("div",ea,[(0,n.Wm)(f,{class:"margin-top",column:3,size:e.size,contentStyle:e.rowCenter,labelStyle:e.rowCenter,border:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{label:"工具名称",width:"10%"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,V.zw)(o.selectedOption),1)])),_:1}),(0,n.Wm)(g,{label:"是否成功",width:"10%"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,V.zw)(o.message),1)])),_:1}),(0,n.Wm)(g,{label:"所用时间",width:"10%"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,V.zw)(o.execution_time),1)])),_:1})])),_:1},8,["size","contentStyle","labelStyle"]),(0,n.Wm)(_,{detect_res:o.detect_res},null,8,["detect_res"])])])])])],64)}var aa={name:"AppSCTool",components:{Upload:ze.Z,Share:Ue.Z,ResultComponent:Ze},data(){return{fileList:[],currentPage:1,uploadError:"",contract_url:"",selectedOption:"",options:[{value:"mythril",label:"All"},{value:"oyente",label:"Oyente"},{value:"conkas",label:"Conkas"},{value:"slither",label:"Slither"},{value:"solhint",label:"solhint"},{value:"confuzzius",label:"confuzzius"},{value:"security",label:"security"},{value:"osiris",label:"osiris"},{value:"honeybadger",label:"honeybadger"},{value:"wana_cpp",label:"wana_cpp"},{value:"wana_rust",label:"wana_rust"},{value:"evulhunter",label:"evulhunter"}],message:"",detect_res:"",contract_name:"",contracts_files:[],contract_list:[],execution_time:""}},rowCenter:{"text-align":"center"},computed:{paginatedFiles(){const e=5*(this.currentPage-1),t=5*this.currentPage;return this.contract_list.slice(e,t)}},mounted(){this.fetchContractList()},methods:{handleRemove(e){const t=this.fileList.indexOf(e);-1!==t&&this.fileList.splice(t,1)},handlePreview(e){console.log(e)},handleExceed(e){M.z8.warning(`The limit is 3, you selected ${e.length} files this time, add up to ${e.length} totally`)},beforeRemove(e){return xe.T.confirm(`Cancel the transfer of ${e.name} ?`).then((()=>!0),(()=>!1))},handleSuccess(e,t){if(200==e["code"]){var a=e["data"]["contract_url"];this.contract_url="/media/contracts/"+a,this.fileList.push({name:t.name})}else M.z8.error(e["message"])},handleError(e){M.z8.error(e.message)},handlePageChange(e){this.currentPage=e},handleButtonClick(){this.selectedOption?(console.log("You selected:",this.selectedOption),this.$http.getToolAnalysis(this.selectedOption,this.contract_name).then((e=>{this.message=e["message"],"logs"in e?this.detect_res=e["logs"]:"output"in e&&(this.detect_res=e["output"]),this.execution_time=e["time"]}))):console.log("No option selected.")},fetchContractList(){this.$http.getContractList().then((e=>{this.contracts_files=e.files,this.contract_list=this.contracts_files.map((e=>e.name))})).catch((e=>{console.error("Failed to fetch contract list:",e)}))},deleteContract(e){console.log("Delete button clicked for contract:",e),this.$http.getContractDelete(e).then((t=>{const a=this.paginatedFiles.indexOf(e);console.log(t),-1!==a&&this.paginatedFiles.splice(a,1)})).catch((e=>{console.error("Failed to delete contract:",e)}))}}};const la=(0,C.Z)(aa,[["render",ta],["__scopeId","data-v-447722a6"]]);var na=la,oa=a.p+"img/constructure.89c330b8.jpg";const ia={class:"container"},sa=(0,n.uE)('<h1 data-v-3af241a2>长安链漏洞检测平台</h1><img src="'+oa+'" alt="Platform Image" class="platform-image" data-v-3af241a2><div class="section" data-v-3af241a2><h2 data-v-3af241a2>核心组件</h2><p data-v-3af241a2>整个长安链漏洞检测平台由四大核心组件组成：前端界面，后端服务器，分析工具，安全和隐私模块。</p></div><div class="section" data-v-3af241a2><h2 data-v-3af241a2>前端界面</h2><p data-v-3af241a2>前端界面主要为用户提供与系统交互的平台。首先，它包括一个用户认证模块，使用户能够注册、登录并进行双因素身份验证，确保账户的安全。为了方便用户提交智能合约代码，设计了合约上传模块，允许用户上传文件或直接在在线文本编辑器中编写。一旦分析完成，结果将在结果显示模块中呈现，包括概览和详细报告，使用户能过快速了解潜在的问题和建议。此外，用户历史查询模块允许用户查看和回顾他们过去上传的合约和分析结果。</p></div><div class="section" data-v-3af241a2><h2 data-v-3af241a2>后端服务器</h2><p data-v-3af241a2>后端服务器是系统核心，处理所有的数据和请求。它包括多个API终端，用于处理用户认证、合约上传、分析和历史数据查询。为了有效存储用户信息、合约和分析结果，系统设置了专门的数据存储区域。另外，分析任务调度器确保系统能够高效地处理大量的分析请求，根据系统的资源和任务的优先级来调度。</p></div><div class="section" data-v-3af241a2><h2 data-v-3af241a2>分析工具部分</h2><p data-v-3af241a2>分析工具部分是系统的核心，它负责对上传的智能合约进行深入的检查。对于Solidity合约，我们使用了Oyente，Mythril, Slither, conkas，Osiris。对于C/C++合约，我们选择了wana作为分析工具，并考虑使用自定义工具进行动态分析。对于Rust合约，我们选择了EvlHunter。对于Golang合约，我们选择了chaincode-analyzer, revive-cc。对于以上合约语言，我们将根据其特性选择或开发合适的分析工具。</p></div><div class="section" data-v-3af241a2><p data-v-3af241a2>最后，安全隐私部分也很重要。所有传输和存储的数据都将被加密，确保他们不会被未经授权的第三方访问。此外，我们计划定期对系统进行安全审计，确保没有潜在的安全漏洞。</p></div>',7),ra=[sa];function ca(e,t){return(0,n.wg)(),(0,n.iD)("div",ia,ra)}const ua={},da=(0,C.Z)(ua,[["render",ca],["__scopeId","data-v-3af241a2"]]);var ma=da;const pa=[{path:"/",component:Ge,name:"search"},{path:"/banner",component:O,name:"banner"},{path:"/commnet",component:B,name:"comment"},{path:"/post",component:X,name:"post"},{path:"/user",component:ie,name:"user"},{path:"/scTool",component:Fe,name:"scTool"},{path:"/contractManage",component:ht,name:"contractManage"},{path:"/record",component:nt,name:"record"},{path:"/ide",component:Dt,name:"ide"},{path:"/language",component:Vt,name:"language"},{path:"/tool",component:na,name:"tool"},{path:"/intro",component:ma,name:"intro"}],ha=(0,S.p7)({history:(0,S.r5)(),routes:pa});var ga=ha;const fa="USER_KEY",_a="JWT_TOKEN_KEY";class va{constructor(){this.token=null,this.user=null,this.token=localStorage.getItem(_a);const e=localStorage.getItem(fa);e&&(this.user=JSON.parse(e))}static getInstance(){return this._instance||(this._instance=new va),this._instance}setUserToken(e,t){this.user=e,this.token=t,localStorage.setItem(fa,JSON.stringify(e)),localStorage.setItem(_a,t)}clearUserToken(){this.user=null,this.token=null,localStorage.removeItem(fa),localStorage.removeItem(_a)}get is_authed(){return!(!this.user||!this.token)}get is_staff(){return!!this.is_authed&&!!this.user.is_staff}}var ba=va.getInstance(),wa=a(5121),Ca=a(129),ya=a.n(Ca);class ka{constructor(){this.server_host=window.location.origin,this.http=wa.Z.create({baseURL:this.server_host,timeout:6e4}),this.http.interceptors.request.use((e=>{const t=ba.token;return t&&(e.headers.Authorization="Bearer "+t),e})),this.http.interceptors.response.use((e=>e.data))}_post(e,t){return this.http.post(e,ya().stringify(t))}addBanner(e){const t="/cmsapi/banner/add";return this._post(t,e)}getBannerList(){const e="/cmsapi/banner/list";return this.http.get(e)}deleteBanner(e){const t="/cmsapi/banner/delete";return this._post(t,{id:e})}editBanner(e){const t="/cmsapi/banner/edit";return this._post(t,e)}getPostList(e){const t="/cmsapi/post/list?page="+(e||1);return this.http.get(t)}deletePost(e){const t="/cmsapi/post/delete";return this._post(t,{id:e})}getCommentList(){const e="/cmsapi/comment/list";return this.http.get(e)}deleteComment(e){const t="/cmsapi/comment/delete";return this._post(t,{id:e})}getUserList(e){const t="/cmsapi/user/list?page="+e;return this.http.get(t)}activeUser(e,t){const a="/cmsapi/user/active";return this._post(a,{id:e,is_active:t})}getBoardPostCount(){const e="/cmsapi/board/post/count";return this.http.get(e)}getDay7PostCount(){const e="/cmsapi/day7/post/count";return this.http.get(e)}getContractList(){const e="/toolFunc/contracts/list";return this.http.get(e)}getContractDelete(e){const t="/toolFunc/contracts/delete";return this._post(t,{contract:e})}getToolAnalysis(e,t){const a="/toolFunc/run/"+e;return this._post(a,{contract:t})}getLogsList(){const e="/toolFunc/logs/list";return this.http.get(e)}}var Wa=new ka;const Sa=(0,l.ri)(k);Sa.use(W.Z),Sa.use(ga),Sa.config.globalProperties.$auth=ba,Sa.config.globalProperties.$http=Wa,Sa.mount("#app")},4654:function(){}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var i=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],o=e[u][2];for(var s=!0,r=0;r<l.length;r++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/static/cms/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,i=l[0],s=l[1],r=l[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(r)var u=r(a)}for(t&&t(l);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},l=self["webpackChunkzlbbs_cms"]=self["webpackChunkzlbbs_cms"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(7016)}));l=a.O(l)})();